<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>静如处子，动若脱兔</title><link href="http://linqingxiang.com/" rel="alternate"></link><link href="http://linqingxiang.com/feeds/git.atom.xml" rel="self"></link><id>http://linqingxiang.com/</id><updated>2015-12-26T14:12:00+08:00</updated><entry><title>Git中的submodule命令</title><link href="http://linqingxiang.com/git/git-submodule.html" rel="alternate"></link><updated>2015-12-26T14:12:00+08:00</updated><author><name>woniu17</name></author><id>tag:linqingxiang.com,2015-12-26:git/git-submodule.html</id><summary type="html">&lt;p&gt;本文链接：&lt;a href="http://linqingxiang.com/git/git-submodule.html"&gt;Git中的&lt;code&gt;submodule&lt;/code&gt;命令&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本文以代码库&lt;a href="https://github.com/woniu17/woniu17-pelican" target="_blank"&gt;https://github.com/woniu17/woniu17-pelican&lt;/a&gt;为例,
说明Git中&lt;code&gt;submodule&lt;/code&gt;命令的使用
该代码库中包含子模块&lt;code&gt;pelican-themes/niu-x2-sidebar&lt;/code&gt;, &lt;code&gt;pelican-plugin&lt;/code&gt;以及&lt;code&gt;publish&lt;/code&gt;，每个子模块实际上是一个代码库，
由该代码库中的&lt;code&gt;.gitmodules&lt;/code&gt;文件中的内容可以看出:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;[submodule &amp;quot;pelican-themes/niu-x2-sidebar&amp;quot;]
    path = pelican-themes/niu-x2-sidebar
    url = https://github.com/qingtech/niu-x2-sidebar.git
[submodule &amp;quot;pelican-plugins&amp;quot;]
    path = pelican-plugins
    url = https://github.com/qingtech/pelican-plugins.git
[submodule &amp;quot;publish&amp;quot;]
    path = publish
    url = https://github.com/woniu17/woniu17.github.io.git
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;clone带有子模块的代码库&lt;/h3&gt;
&lt;h4&gt;下载主代码库&lt;/h4&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git clone https://github.com/woniu17/woniu17/woniu17-pelican.git
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;进入代码库的主目录&lt;/h4&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;woniu17-pelican
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;下载该代码库中的所有子模块&lt;/h4&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git submodule update --init --recursive
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;添加子模块&lt;code&gt;publish-for-gitcafe&lt;/code&gt;&lt;/h3&gt;
&lt;h4&gt;在代码库的主目录下执行以下命令：&lt;/h4&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git submodule add https://gitcafe.com/woniu17/woniu17-pelican.git publish-for-gitcafe
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上述命令会在&lt;code&gt;.gitmodules&lt;/code&gt;文件添加以下内容，并会将子模块代码库克隆到publish-for-gitcafe目录下&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;[submodule &amp;quot;publish-for-gitcafe&amp;quot;]
    path = publish-for-gitcafe
    url = https://gitcafe.com/woniu17/woniu17-pelican.git
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;删除子模块&lt;code&gt;publish-for-gitcafe&lt;/code&gt;&lt;/h3&gt;
&lt;h4&gt;将&lt;code&gt;.gitmodules&lt;/code&gt;文件中的相关内容删除，即删除以下几行内容:&lt;/h4&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;[submodule &amp;quot;publish-for-gitcafe&amp;quot;]
    path = publish-for-gitcafe
    url = https://gitcafe.com/woniu17/woniu17-pelican.git
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;在代码库主目录下执行以下命令：&lt;/h4&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git rm --cached publish-for-gitcafe
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;删除目录&lt;code&gt;publish-for-gitcafe&lt;/code&gt;&lt;/h4&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;rm -rf publish-for-gitcafe&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;本文参考：&lt;a href="http://blog.csdn.net/wangjia55/article/details/24400501" target="_blank"&gt;http://blog.csdn.net/wangjia55/article/details/24400501&lt;/a&gt;&lt;/p&gt;</summary></entry></feed>